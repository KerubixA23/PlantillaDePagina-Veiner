<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Pedir - Pastelería</title>
  <link rel="stylesheet" href="../Pasteleria.css">
  <style>
    .pedido-contenedor{max-width:720px;margin:32px auto;padding:20px;background:#fff;border-radius:8px;box-shadow:0 6px 20px rgba(0,0,0,.06)}
    .pedido-contenedor h1{margin-top:0;font-size:1.6rem}
    .campo{display:flex;flex-direction:column;margin-bottom:12px}
    label{font-weight:600;margin-bottom:6px}
    input,textarea,select{padding:10px;border:1px solid #ddd;border-radius:6px;font-size:1rem}
    .acciones{display:flex;gap:10px;align-items:center;margin-top:14px}
    .btn{background:#c0392b;color:#fff;padding:10px 14px;border-radius:6px;text-decoration:none;display:inline-block}
    .btn-volver{background:#5a3921;margin-bottom:14px;padding:12px 20px}
    .btn-volver:hover{background:#3d2b1c}
    .postres-lista {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
      gap: 18px;
      margin-bottom: 18px;
    }
    .postre-card {
      background: #f9f6f2;
      border-radius: 12px;
      box-shadow: 0 2px 10px rgba(90,57,33,0.07);
      padding: 12px 8px 10px 8px;
      display: flex;
      flex-direction: column;
      align-items: center;
      cursor: pointer;
      border: 2px solid transparent;
      transition: border 0.18s, box-shadow 0.18s;
      min-width: 120px;
    }
    .postre-card.selected {
      border: 2px solid #d4a55c;
      box-shadow: 0 4px 18px rgba(212,165,92,0.13);
      background: #fffbe7;
    }
    .postre-card img {
      width: 70px;
      height: 70px;
      object-fit: cover;
      border-radius: 50%;
      margin-bottom: 8px;
      border: 2px solid #d4a55c33;
    }
    .postre-card span {
      font-size: 1rem;
      color: #5a3921;
      font-weight: 600;
      text-align: center;
    }
    @media(max-width:520px){.pedido-contenedor{margin:14px;padding:12px}.postres-lista{grid-template-columns:1fr 1fr}}
  </style>
</head>
<body>
  <div style="padding:20px;">
    <a href="../Pasteleria.html" class="btn btn-volver">← Volver al inicio</a>
  </div>

  <main>
    <section class="pedido-contenedor">
      <h1>Hacer un pedido</h1>
      <p>Completa el formulario y te contactaremos para confirmar el pedido.</p>
      <form id="formPedido">
        <div class="campo">
          <label for="nombre">Nombre</label>
          <input id="nombre" name="nombre" required>
        </div>
        <div class="campo">
          <label for="telefono">Teléfono</label>
          <input id="telefono" name="telefono" required>
        </div>
        <div class="campo">
          <label for="email">Email (opcional)</label>
          <input id="email" name="email" type="email">
        </div>
        <div class="campo">
          <label>Elige tu postre</label>
          <div class="postres-lista" id="postres-lista"></div>
          <input type="hidden" id="producto" name="producto" required>
        </div>
        <div class="campo">
          <label for="cantidad">Cantidad</label>
          <input id="cantidad" name="cantidad" type="number" min="1" value="1">
        </div>
        <div class="campo">
          <label for="mensaje">Detalles / Instrucciones</label>
          <textarea id="mensaje" name="mensaje" rows="4"></textarea>
        </div>

        <div class="acciones">
          <button type="submit" class="btn">Enviar pedido</button>
          <a href="../Pasteleria.html" class="btn" style="background:#777">Volver</a>
        </div>
      </form>

      <div id="resultado" style="margin-top:12px"></div>
    </section>
  </main>

  <script>
    // Lista de postres (igual que en menú)
    const postres = [
      {
        nombre: "Cheesecake de Frambuesa",
        imagen: "https://images.unsplash.com/photo-1504674900247-0877df9cc836?auto=format&fit=crop&w=400&q=80"
      },
      {
        nombre: "Brownie Artesanal",
        imagen: "https://images.unsplash.com/photo-1519864600265-abb23847ef2c?auto=format&fit=crop&w=400&q=80"
      },
      {
        nombre: "Tiramisú",
        imagen: "https://images.unsplash.com/photo-1464983953574-0892a716854b?auto=format&fit=crop&w=400&q=80"
      },
      {
        nombre: "Pastel Tres Leches",
        imagen: "https://images.unsplash.com/photo-1502741338009-cac2772e18bc?auto=format&fit=crop&w=400&q=80"
      },
      {
        nombre: "Pie de Limón",
        imagen: "https://images.unsplash.com/photo-1519125323398-675f0ddb6308?auto=format&fit=crop&w=400&q=80"
      },
      {
        nombre: "Flan Casero",
        imagen: "https://images.unsplash.com/photo-1504674900247-0877df9cc836?auto=format&fit=crop&w=400&q=80"
      },
      {
        nombre: "Galleta de Avena",
        imagen: "https://images.unsplash.com/photo-1519864600265-abb23847ef2c?auto=format&fit=crop&w=400&q=80"
      }
    ];
    const postresLista = document.getElementById('postres-lista');
    const inputProducto = document.getElementById('producto');
    let seleccionado = null;
    function renderPostres() {
      postresLista.innerHTML = '';
      postres.forEach((p, idx) => {
        const div = document.createElement('div');
        div.className = 'postre-card' + (seleccionado === idx ? ' selected' : '');
        div.innerHTML = `<img src="${p.imagen}" alt="${p.nombre}"><span>${p.nombre}</span>`;
        div.onclick = () => {
          seleccionado = idx;
          inputProducto.value = p.nombre;
          renderPostres();
        };
        postresLista.appendChild(div);
      });
      // Si nada seleccionado, selecciona el primero
      if (seleccionado === null) {
        seleccionado = 0;
        inputProducto.value = postres[0].nombre;
        renderPostres();
      }
    }
    renderPostres();

    document.getElementById('formPedido').addEventListener('submit', function(e){
      e.preventDefault();
      const data = new FormData(e.target);
      const obj = Object.fromEntries(data.entries());
      const resumen = document.getElementById('resultado');
      resumen.innerHTML = `<strong>Resumen enviado (simulado):</strong><pre>${JSON.stringify(obj,null,2)}</pre><p>Te contactaremos pronto.</p>`;
      e.target.reset();
      seleccionado = null;
      renderPostres();
    });
  </script>
  <!-- Floating order button for quick access on mobile -->
  <a href="../apartado-pedir/index.html" class="btn-pedir-flotante" aria-label="Pedir ahora">
    <i class="fas fa-shopping-bag" aria-hidden="true"></i>
  </a>
</body>
</html>
